
\pgfplotstableread{
{Data Size}    {Shared Memory}   {NIO} {Named Pipe}
0	4.829262874	1.211303577	2.278292766
1	16.582080532	2.284973183	4.481888576
1.5849625007	24.84903843	3.650475913	7.285710353
2	30.169457071	4.413739735	8.817659304
2.5849625007	50.334063092	7.308872177	12.819947261
3	67.033301105	8.820402778	17.670900556
3.5849625007	99.710387763	12.822872274	25.811055873
3.7004397181	108.088504798	14.851562274	27.280316859
4	133.5675669	18.621127822	35.125028568
4.2479275134	158.098159941	22.179711705	41.054803786
4.3923174228	172.936356172	19.027447421	44.744471279
4.5849625007	198.258407658	29.328904007	51.219885409
4.7548875022	223.640214426	32.568470093	57.679047943
4.8579809951	240.130104691	34.986339417	63.408061398
5	266.9337384	39.106509783	68.524550827
5.1292830169	291.07690972	31.501307665	75.133209088
5.4918530963	371.306741859	43.323522934	95.74922823
5.5849625007	400.371365819	48.490743999	102.375468435
5.672425342	406.104746267	56.872079534	109.795933895
5.9307373376	466.792042028	54.818062952	131.176356948
6	407.150323017	57.550038602	166.253173322
6.0660891905	471.989770733	60.505008949	145.084452028
6.5391588111	749.881978428	83.800438008	219.863148031
6.5849625007	794.093319162	106.139907555	205.538721338
6.6293566201	684.256935216	89.067641012	214.048927819
6.9657842847	1023.734636763	112.453472776	300.145881529
7	1029.584105149	135.930753075	309.12421058
7.0334230015	1027.304169707	116.697242107	285.318100698
7.5622424242	1372.861669051	168.699330324	450.216803756
7.5849625007	1520.213189906	178.617329882	412.373322461
7.6073303137	1487.353476166	223.004631634	414.142278358
7.9829935747	1883.964538087	304.945579899	544.718262454
8	2029.21174905	303.157529871	552.163844844
8.0168082877	2078.834554099	231.545405236	600.765062111
8.5736471875	3004.966139295	424.80696054	984.164634937
8.5849625007	2987.83168967	342.123641214	978.416557876
8.5961897561	2981.563745694	395.555755955	981.559766323
8.9915218461	3955.435559352	611.575583119	1262.459850305
9	3937.062130055	553.18025024	1105.547862345
9.0084286221	3949.038994648	578.762145252	1108.009672612
9.5793159376	5751.338984494	925.793618042	1667.525200127
9.5849625007	5763.6263342	683.90157147	1630.194166837
9.5905870499	5782.042290551	893.794979677	1943.390221041
9.9957671509	7375.253260315	1103.914749616	2555.347488896
10	7420.6583416	1085.280140642	2583.62773537
10.0042204663	7399.879239443	1130.343164423	2545.719136133
10.5821419817	10407.615838242	1528.461298638	3836.099253253
10.5849625007	10459.010591026	1430.78942209	3885.122419844
10.5877775163	10467.367839251	1456.155914263	3378.080700848
10.9978851278	13413.996748093	1803.067395975	4378.763130842
11	13308.791104471	1746.102644706	4540.244522221
11.0021117765	13234.397107891	1994.433990999	5073.758245466
11.5835529305	14022.214827706	3058.174009469	9483.821893006
11.5849625007	17574.180581605	2551.424401063	8084.84927267
11.5863706951	17607.289599655	2533.045417625	8777.943762495
11.9989429514	16565.124813011	4983.721139081	14220.906836006
12	17038.373526088	3774.507385952	12201.364596254
12.0010562746	13210.648128855	4017.979668263	7307.280817184
12.5842578877	23084.476673518	4910.603339731	10086.517395917
12.5849625007	23871.089498227	4966.990490482	9730.990861993
12.5856667697	23709.790397143	5048.779860844	10043.171230086
12.9994715725	29257.910613264	9471.012935496	14228.934368891
13	28683.556655596	6233.173950593	14258.32114591
13.000528234	28549.362950889	7356.552861198	11784.156845751
13.5846102372	34413.107338882	8704.617585743	15821.282060252
13.5849625007	34421.08019242	8713.01377627	16389.392099268
13.5853146782	33561.250799983	10376.784988679	15029.013424612
13.9997358105	25595.465454619	10960.299110444	19477.406159846
14	20223.156583983	10978.068437467	18929.49199111
14.0002641412	25326.378293446	12459.412789012	18114.753416798
14.5847863797	26250.975590243	18111.530868468	23665.630920163
14.5849625007	26235.212219155	15523.929346838	24525.326782535
14.5851386002	25153.809591023	14975.096833361	22628.094517365
14.9998679113	31049.401914693	22139.146166433	26475.952243735
15	31287.197379148	20174.984879434	27180.220598481
15.0001320766	31270.213652828	22299.988561706	25833.004193619
15.5848744429	37764.33788921	24583.590207991	30892.539854137
15.5849625007	35904.006790762	24067.295665602	33595.235558465
15.5850505532	37394.07694005	21385.294903538	30253.574020233
15.9999339572	42024.611702048	22156.773973963	34400.577397926
16	42526.409381948	22768.653369153	33355.416041306
16.0000660398	42135.371754509	22095.615170307	24516.95346759
16.5849184725	46634.977226464	31544.055792361	27346.3375803
16.5849625007	46755.648430194	32020.413157657	27510.498278274
16.5850065276	46622.664838772	28171.132563909	27192.106104393
16.999966979	47238.234258162	29686.823448866	30109.450105664
17	47158.651696736	29563.339750158	29587.405439739
17.0000330203	47199.614834277	29597.736848209	25958.114070443
17.5849404868	45517.942281518	31879.906514408	29219.800949252
17.5849625007	41982.178237447	42632.564123951	29301.331769581
17.5849845143	42661.298716979	31764.349460218	26685.512778575
17.9999834896	46414.692794078	33266.028653703	29164.31928632
18	48395.722679253	33289.438190973	29288.477628167
18.0000165102	47313.280360889	33235.604391119	27216.297460076
18.5849514938	41963.793553975	34805.978837333	28980.488163916
18.5849625007	47278.064642522	34775.082842428	29063.752375911
18.5849735076	48572.455477075	34868.32660189	27847.458660613
18.9999917448	44726.216166649	35271.795693727	28712.569156876
19	43996.571385341	34852.366230723	30321.355537527
19.0000082551	44166.435569925	34783.859418754	27930.63156985
19.5849569973	47809.777463692	34134.247276319	28135.734709709
19.5849625007	50296.361907195	34030.893356802	27890.015515337
19.5849680042	48676.941303384	34022.599544173	27472.353309474
19.9999958724	38427.489532814	32070.098342443	26007.417473416
20	42256.795098438	32078.172520878	25816.481805726
20.0000041276	38698.881552732	38439.343773152	25608.293415362
20.584959749	35059.230140608	33797.506118382	23825.296573269
20.5849625007	35818.974880833	33265.916556813	23229.586947571
20.5849652524	34978.742656498	33338.510640811	23525.150646978
20.9999979362	34120.277968082	36638.090297614	22381.711044179
21	33559.886750483	30035.390170359	22159.744848227
21.0000020638	33559.501904135	36802.61117229	23467.936051512
21.5849611249	33546.715132703	29047.077888273	21312.698704401
21.5849625007	33700.814956603	27241.537806327	20845.600676817
21.5849638766	33590.112667889	25122.081310011	22190.132287542
21.9999989681	34020.557752151	29207.946376923	21985.267189455
22	36599.710799921	26740.547005968	21370.888941467
22.0000010319	33650.321754987	23472.260927074	21320.288845474
22.5849618128	38673.784764138	24061.012240664	21074.406946738
22.5849625007	38397.035748807	24183.159975874	21169.882251247
22.5849631887	38983.24458097	25024.525623474	21033.281053695
22.9999994841	40496.58029954	26704.848945865	21060.137115798
23	39239.62561751	31543.462669175	21287.800372174
23.0000005159	39386.734507184	24765.815374737	21252.918020117
23.5849621568	41827.970702612	24697.332265871	21202.259955687
23.5849625007	40619.018086321	24819.606183673	21210.578420379
23.5849628447	41555.364882277	24693.315933731	21239.175518618
23.999999742	44010.813883148	25069.671590142	21516.756380553
24	40511.402959623	30577.659465717	21338.137123936
24.000000258	44163.081035384	24941.099097069	21130.768793943
24.5849623287	45012.376923834	31862.436201921	21028.171829476
24.5849625007	44953.407171271	28507.061514714	21051.65818326
24.5849626727	44935.723920206	27605.865978166	21537.009044472
24.999999871	44319.700398091	26207.879591305	21504.783088481
25	45073.569333923	25473.326348502	21218.921527418
25.000000129	44989.096064651	25261.482217836	21405.021012988
25.5849624147	45467.797522632	30801.895171737	21235.367941674
25.5849625007	46262.358425389	25250.400756266	21143.089769114
25.5849625867	46150.097961305	25250.152249501	21619.956304471
25.9999999355	46457.977161832	25235.946710162	23090.944124277
26	45875.905187715	25306.504292221	21292.597742437
26.0000000645	46107.020585404	25344.246828366	21461.749130172
}\datatable

\definecolor{light-gray}{gray}{0.35}

\begin{tikzpicture}
    \begin{axis}[
    every axis legend/.append style={nodes={right}},
    width= 1\columnwidth,
    height=3.8cm,
    xlabel={Message Size (bytes)},
    ylabel={Gbps},
    %y label style={pos=east},
    y label style={at={(0.14, 0.5)}},
    x label style={at={(0.5, 0.08)}},
    legend pos=north west,
    legend style={anchor=north west,font=\tiny},
    xtick={0,4,8,12,16,20,24,26},
    %xmode=log,
    %log basis x={2},
    scaled y ticks = false,
    y tick label style={
    	/pgf/number format/1000 sep = \thinspace
    },
    x tick label style={font=\tiny},
    xtick={0,4,8,12,16,20,24},
    xticklabels={
      1,16,256,4\,Kb,64\,Kb,1\,Mb,16\,Mb
    },
    scaled y ticks=manual:{}{%
          	\pgfmathparse{#1/1000}%
    },
    yticklabel={\pgfmathprintnumber\tick},
    ]
    	\addplot [mark=+,mark size =1,color=black] table[y={Shared Memory}, x = {Data Size}] {\datatable};
    	\addlegendentry{Shared Memory}[minimum height=1.9in];
    	\addplot [mark=none,color=gray] table[y={NIO}, x ={Data Size}] {\datatable};
    	\addlegendentry{NIO}[minimum height=1.9in];
    	%\addplot [mark=*,mark size =0.5,color=blue] table[y={Named Pipe}, x ={Data Size}] {\datatable};
    	%\addlegendentry{Named Pipe}[minimum height=1.9in];
    \end{axis}
\end{tikzpicture}